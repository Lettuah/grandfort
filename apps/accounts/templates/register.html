{% extends '_base.html' %}
{% block title %}Register - GrandFort{% endblock %}

{% block content %}
<div class="flex items-center justify-center min-h-screen bg-base-200">

  <div class="flex flex-col justify-center w-full max-w-md p-8 bg-base-100 border border-sky-600 rounded-md shadow-md">
    <p class="text-xl mb-5 font-semibold ">Register an account</p>

    <!-- session messages -->
    {% for message in messages %}
    {% if message.tags == "error" %}
    <div class="alert alert-error mb-3">{{ message }}</div>
    {% elif message.tags == "success" %}
    <div class="alert alert-success mb-3">{{ message }}</div>
    {% else %}
    <div class="alert mb-3">{{ message }}</div>
    {% endif %}
    {% endfor %}




    <form action="{% url 'register' %}" method="POST" class="">
      {% csrf_token %}

      {% if form.non_field_errors %}
      <div class="text-sm text-red-600 mb-2">
        {% for error in form.non_field_errors %}
        <p>{{ error }}</p>
        {% endfor %}
      </div>
      {% endif %}

      <label for="Email" class="text-sky-950 font-medium mb-2">Email:</label>
      <input type="text" name="email" id="Email" class="input input-bordered w-full mb-2"
        placeholder="Enter your username" value="{{ form.email.value|default_if_none:'' }}" />
      {% if form.email.errors %}
      <p class="text-sm text-red-600 mb-2">
        {% for error in form.email.errors %}
        {{ error }}
        {% endfor %}
      </p>
      {% endif %}

      <label for="Password" class="text-sky-950 font-medium mb-2 mt-4">Password:</label>
      <input type="password" value="{{form.password1.value|default_if_none:''}}" name="password1" id="Password1" class="input input-bordered w-full mb-2"
        placeholder="Enter your password" />
      {% if form.password1.errors %}
      <p class="text-sm text-red-600 mb-2">
        {% for error in form.password1.errors %}
        {{ error }}
        {% endfor %}
      </p>
      {% endif %}

      <label for="Password" class="text-sky-950 font-medium mb-2 mt-4">Password Confirmation:</label>
      <input type="password" value="{{form.password2.value|default_if_none:''}}" name="password2" id="Password2" class="input input-bordered w-full"
        placeholder="Enter your password" />
      {% if form.password2.errors %}
      <p class="text-sm text-red-600 mb-2">
        {% for error in form.password2.errors %}
        {{ error }}
        {% endfor %}
      </p>
      {% endif %}

      <input type="submit" value="Submit" class="btn btn-primary mt-6 w-full" />
    </form>
    <div class="my-2"></div>
    <p class="float-end">Already have an account? <a href="{% url 'login' %}" class="text-primary">login here</a></p>
  </div>

</div>
{% endblock %}